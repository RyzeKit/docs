---
title: Lucia
description: Lucia authentication with RyzeKit.
next:
  link: /astro/payments/introduction
  label: Payments
---
import { Image } from 'astro:assets';

## Introduction

This starter kit provides [Lucia](https://lucia-auth.com/) (v4, the latest version) as an option for authentication. Lucia is an open-source authentication library to implement auth from scratch. By using this starter kit, Lucia authentication has already been implemented for you. Now, you just need to get it set up and running.

## Email & Password Setup

1. Generate a 128 bit (16 byte) string and base64 encode it. You can do this by going to a new tab in your terminal and running the command below. This will use OpenSSL to generate an encryption key.

```sh copy
openssl rand --base64 16
```

2. In the `.env` file of your Astro project, copy your encryption key into the `ENCRYPTION_KEY` environment variable. An example is shown below.

```env filename=".env" {3} copy
...
# Authentication
ENCRYPTION_KEY="L9pSomeRandomCharsvkHuC9=="
...
```

<p id="lucia-email-setup">
3. Next, you will need to set up email functionality so that a confirmation email can be sent to new users after they register. Please follow the [Email guide](/astro/email) to get email configured. Return to here when you're done.
</p>

4. Now in the home page of your app, you can test email & password authentication by clicking the **Sign Up** button and creating a new account. Once you have created an account, the app should redirect you to the verify email page. After verifying your email, you should be redirected to the dashboard page. Signing out should redirect you to the login page.

## Github Social Login Setup

5. To get set up with Github for social login, follow the [official instructions](https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/creating-an-oauth-app) to create a Github OAuth app. For the **Authorization callback URL**, add `/auth/login/github/callback` after the home page URL, something like: `http://localhost:4321/auth/login/github/callback`

<div class='flex justify-center'>
<Image src='/Github-OAuth-New-App.png' alt='Github-OAuth-New-App' width='350' height='100' />
</div>

6. Copy your Github **Client ID** and **Client secret** to your `.env` file.

```env filename=".env" copy
...
GITHUB_CLIENT_ID=<your client id>
GITHUB_CLIENT_SECRET=<your client secret>
...
```

7. Now in your Astro app, you can test Github social login by clicking the **Sign Up** button and selecting **Login with Github**. You should be redirected to Github to sign in, and then redirected back to the app. Signing out should redirect you to the login page.

## Other Social Providers

Lucia uses [Arctic](https://arcticjs.dev/) to handle social logins. You can see a list of social providers and their set up instructions on their [website](https://arcticjs.dev/).

## Next Steps

ðŸš€ Congratulations, you've successfully set up authentication! Proceed to the [Payments](/astro/payments/introduction) page to continue with setup.
